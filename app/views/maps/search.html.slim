/ ãƒãƒƒãƒ—æ¤œç´¢ç”»é¢
div.page_classes.max-w-sm.mx-auto.p-4.space-y-4

  .text-center.mb-6
    h1.text-lg.font-bold.text-pink-700.mb-2 = t("maps.search.title")

  / ãƒãƒƒãƒ—ã‚¨ãƒªã‚¢
  .map-fullwidth.mb-4
    .bg-white.shadow-md.rounded-lg.p-3.border.border-pink-200
      .text-center.mb-2
        / å‘¨è¾ºãƒãƒƒãƒ—
        span.text-pink-700.font-bold.text-sm = t('maps.search.map_label')
    
      #map.rounded-lg.border.border-pink-100 style="height: 250px; width: 100%;"

  / JavaScript
  script
    | const mapId = "#{ENV['GOOGLE_MAP_ID']}";
    | const spots = #{@spots_json.html_safe};

  - content_for :head do
    script src="https://maps.googleapis.com/maps/api/js?key=#{ENV['GOOGLE_MAPS_API_KEY']}" async defer

  / åº—èˆ—ä¸€è¦§ãƒ˜ãƒƒãƒ€ãƒ¼
  .text-center.mb-4
    / ã‚¿ãƒƒãƒ—ã—ã¦è©³ç´°ã‚’ãƒã‚§ãƒƒã‚¯
    p.text-pink-500.text-xs = t('maps.search.tap_note')

  / æ–¹çœ¼ç´™é¢¨ã®åº—èˆ—ä¸€è¦§
  .grid-paper-container.bg-pink-25.p-4.rounded-lg.border.border-pink-200
    
    / æ–¹çœ¼ç´™ã®ã‚¿ã‚¤ãƒˆãƒ«ã‚¨ãƒªã‚¢
    .bg-white.rounded-lg.p-3.mb-4.border.border-pink-300.shadow-sm style="border-style: dashed;"
      .text-center
        / ã‚‚ãã‚‚ããƒªã‚¹ãƒˆ
        span.text-pink-700.font-bold.text-sm = t('maps.search.list_title')

    / åº—èˆ—ã‚«ãƒ¼ãƒ‰ã‚°ãƒªãƒƒãƒ‰
    .space-y-3
      - @spots_near.each_with_index do |spot, index|
        = link_to spot_path(spot), class: "block transition-all duration-200 active:scale-95" do
          .cute-pink-card.p-3.shadow-sm.hover:shadow-md
            
            / åº—èˆ—ç•ªå·
            .flex.justify-between.items-start.mb-2
              .bg-pink-100.rounded-full.px-2.py-1.border.border-pink-300 style="border-style: dashed;"
                span.text-pink-700.text-xs.font-bold #{index + 1}


            / åº—èˆ—æƒ…å ±
            .space-y-2
              h2.text-sm.font-bold.text-pink-800.leading-tight = spot.name
              .flex.items-start
                .text-xs.mr-1.mt-0.5 ğŸ 
                p.text-xs.text-pink-600.leading-relaxed = spot.address

            / ç”»åƒã‚¨ãƒªã‚¢
            - thumbnail_url = display_image_url(spot, size: :thumb, image_attribute: :images)
            - if thumbnail_url.present?
              .mt-3.relative
                = image_tag thumbnail_url, 
                  class: "w-full h-24 object-cover rounded-lg border border-pink-200", 
                  alt: "#{spot.name}ã®ã‚µãƒ ãƒã‚¤ãƒ«", 
                  loading: "lazy"
                .absolute.top-1.right-1.bg-white.rounded-full.p-1.shadow-sm.border.border-pink-200
            - else
              .mt-3.bg-pink-50.rounded-lg.border.border-pink-200.h-24.flex.items-center.justify-center style="border-style: dashed;"
                .text-center
                  / ç”»åƒæº–å‚™ä¸­
                  p.text-pink-400.text-xs = t('maps.search.no_image')

            / ã‚¢ã‚¯ã‚»ãƒ³ãƒˆ
            .flex.justify-end.mt-2
              .text-xs.text-pink-400 â†’


  / ãƒ›ãƒ¼ãƒ ãƒœã‚¿ãƒ³
  .mt-6
    = link_to "ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹", root_path,
      class: "block w-full bg-gradient-to-r from-pink-300 to-pink-400 hover:from-pink-400 hover:to-pink-500 text-white font-medium py-2.5 px-4 rounded-lg text-center text-sm transition-all duration-200 shadow-sm hover:shadow-md active:scale-95"

